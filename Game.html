<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üèè Cricket Quiz Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(to bottom, #a3d9a5, #f0f8ff);
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .container {
      max-width: 700px;
      margin: 30px auto;
      padding: 20px;
      background: #ffffffcc;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    h1 {
      color: #006400;
      font-size: 32px;
      margin-bottom: 20px;
    }
    .question {
      font-size: 20px;
      margin: 20px 0;
    }
    button {
      padding: 12px 24px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #228b22;
      color: white;
      transition: all 0.2s ease;
    }
    button:hover {
      background: #32cd32;
      transform: scale(1.05);
    }
    #game, #result { display: none; }
    .feedback {
      font-size: 18px;
      margin: 15px 0;
      font-weight: bold;
    }
    .correct { color: green; }
    .wrong { color: red; }
    .scoreboard {
      font-size: 18px;
      margin: 10px 0;
    }
    .fact {
      font-style: italic;
      color: #555;
      margin: 10px 0;
    }
    #progressBar {
      height: 20px;
      width: 100%;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
      margin: 15px 0;
    }
    #progress {
      height: 100%;
      width: 0%;
      background: #ffd700;
      border-radius: 10px;
      transition: width 0.5s ease;
    }
    /* Confetti canvas */
    #confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <canvas id="confetti-canvas"></canvas>

  <div class="container">
    <h1>üèè Cricket Quiz Game</h1>

    <!-- Login -->
    <div id="login">
      <p><b>Enter your details to start the game</b></p>
      <input type="text" id="name" placeholder="Enter your name"><br><br>
      <input type="number" id="age" placeholder="Enter your age"><br><br>
      <button onclick="startGame()">Start Game</button>
    </div>

    <!-- Game -->
    <div id="game">
      <p id="player"></p>
      <div id="progressBar"><div id="progress"></div></div>
      <p class="question" id="question"></p>
      <div id="answers"></div>
      <p class="feedback" id="feedback"></p>
      <p class="fact" id="fact"></p>
      <p class="scoreboard">Score: <span id="score">0</span></p>
    </div>

    <!-- Result -->
    <div id="result">
      <h2 id="finalMessage"></h2>
      <p id="finalScore"></p>
      <button onclick="restartGame()">Play Again</button>
    </div>
  </div>

  <script>
    // Questions with facts
    const questions = [
      { q: "Who is known as the 'Father of Cricket'?", 
        options: ["WG Grace", "Don Bradman", "Kapil Dev", "Sachin Tendulkar"], 
        answer: "WG Grace",
        fact: "WG Grace popularized cricket in the 19th century and was a legendary batsman." },
      { q: "Which country hosted the first ever Cricket World Cup (1975)?", 
        options: ["Australia", "India", "England", "West Indies"], 
        answer: "England",
        fact: "England hosted the first World Cup, and it was played in the ODI format." },
      { q: "Who scored the first double century in ODI cricket?", 
        options: ["Sachin Tendulkar", "Rohit Sharma", "Viv Richards", "Brian Lara"], 
        answer: "Sachin Tendulkar",
        fact: "Tendulkar scored 200* against South Africa in 2010, the first in ODI history." },
      { q: "Which country won the 1983 Cricket World Cup?", 
        options: ["West Indies", "Australia", "India", "Pakistan"], 
        answer: "India",
        fact: "India defeated West Indies in the final to win their first World Cup." },
      { q: "Who is known as the 'Don' of cricket?", 
        options: ["Allan Border", "Don Bradman", "Steve Waugh", "Clive Lloyd"], 
        answer: "Don Bradman",
        fact: "Don Bradman had an unmatched Test batting average of 99.94." },
      { q: "Which bowler has the most Test wickets?", 
        options: ["Muttiah Muralitharan", "Shane Warne", "Anil Kumble", "James Anderson"], 
        answer: "Muttiah Muralitharan",
        fact: "Muralitharan took 800 Test wickets, the highest by any bowler." },
      { q: "Which Indian cricketer is called 'The Wall'?", 
        options: ["Rahul Dravid", "Sourav Ganguly", "Sunil Gavaskar", "Virat Kohli"], 
        answer: "Rahul Dravid",
        fact: "Rahul Dravid earned this nickname for his solid defense." },
      { q: "When was the first official Test match played?", 
        options: ["1877", "1882", "1890", "1900"], 
        answer: "1877",
        fact: "The first Test match was played between Australia and England in 1877." },
      { q: "Which country has won the most Cricket World Cups?", 
        options: ["India", "Australia", "England", "West Indies"], 
        answer: "Australia",
        fact: "Australia has won the World Cup 5 times, more than any other nation." },
      { q: "Who hit 6 sixes in an over in the 2007 T20 World Cup?", 
        options: ["Yuvraj Singh", "MS Dhoni", "Chris Gayle", "AB de Villiers"], 
        answer: "Yuvraj Singh",
        fact: "Yuvraj Singh became famous for hitting 6 sixes in one over vs England." }
    ];

    let currentQ = 0;
    let score = 0;
    let playerName = "";
    let age = 0;
    let consecutiveCorrect = 0;

    function startGame() {
      const nameInput = document.getElementById("name").value.trim();
      const ageInput = document.getElementById("age").value;
      if (!nameInput || !ageInput) { alert("Please enter your name and age!"); return; }
      playerName = nameInput; age = ageInput;
      document.getElementById("login").style.display = "none";
      document.getElementById("game").style.display = "block";
      document.getElementById("player").textContent = `Player: ${playerName} (Age: ${age})`;
      shuffleQuestions();
      showQuestion();
    }

    function shuffleQuestions() {
      for (let i = questions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [questions[i], questions[j]] = [questions[j], questions[i]];
      }
    }

    function showQuestion() {
      if (currentQ >= questions.length) return endGame();
      const q = questions[currentQ];
      document.getElementById("question").textContent = q.q;
      document.getElementById("answers").innerHTML = "";
      document.getElementById("feedback").textContent = "";
      document.getElementById("fact").textContent = "";
      updateProgress();
      q.options = shuffleArray([...q.options]);
      q.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt);
        document.getElementById("answers").appendChild(btn);
      });
    }

    function checkAnswer(selected) {
      const q = questions[currentQ];
      let feedbackEl = document.getElementById("feedback");
      let factEl = document.getElementById("fact");

      if (selected === q.answer) {
        consecutiveCorrect++;
        score += 10 + Math.min(5, consecutiveCorrect); // bonus for streak
        feedbackEl.textContent = "‚úÖ Correct!";
        feedbackEl.className = "feedback correct";
      } else {
        consecutiveCorrect = 0;
        feedbackEl.textContent = "‚ùå Wrong!";
        feedbackEl.className = "feedback wrong";
      }

      factEl.textContent = q.fact;
      document.getElementById("score").textContent = score;
      currentQ++;
      setTimeout(showQuestion, 1500);
    }

    function updateProgress() {
      const progressPercent = ((currentQ) / questions.length) * 100;
      document.getElementById("progress").style.width = progressPercent + "%";
    }

    function endGame() {
      document.getElementById("game").style.display = "none";
      document.getElementById("result").style.display = "block";
      document.getElementById("finalScore").textContent = `${playerName}, your score is ${score}`;
      if (score >= 50) {
        document.getElementById("finalMessage").textContent = "üéâ Congratulations, You Win!";
        launchConfetti();
      } else {
        document.getElementById("finalMessage").textContent = "üò¢ Sorry, You Lost!";
      }
    }

    function restartGame() {
      currentQ = 0; score = 0; consecutiveCorrect = 0;
      document.getElementById("result").style.display = "none";
      document.getElementById("login").style.display = "block";
    }

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Simple confetti effect
    function launchConfetti() {
      const canvas = document.getElementById('confetti-canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const confetti = [];
      for (let i = 0; i < 150; i++) {
        confetti.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height - canvas.height,
          r: Math.random()*6+4,
          d: Math.random()*150,
          color: `hsl(${Math.random()*360},100%,50%)`,
          tilt: Math.random()*10-10
        });
      }
      let angle = 0;
      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        confetti.forEach(c => {
          ctx.beginPath();
          ctx.lineWidth = c.r/2;
          ctx.strokeStyle = c.color;
          ctx.moveTo(c.x + c.tilt + c.r/4, c.y);
          ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r/4);
          ctx.stroke();
          c.y += (Math.cos(angle + c.d) + 3 + c.r/2)/2;
          c.x += Math.sin(angle);
          if(c.y > canvas.height) c.y = -10;
        });
        angle += 0.01;
        requestAnimationFrame(draw);
      }
      draw();
      setTimeout(()=>{ctx.clearRect(0,0,canvas.width,canvas.height)},5000);
    }
  </script>
</body>
</html>
